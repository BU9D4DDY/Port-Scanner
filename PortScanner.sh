#!/bin/bash

#++++++++++++Variables++++++++++++#
default="google.com"
address=${1:-$default}

def_first=1
first_port=${2:-$def_first}

def_last=1000
last_port=${3:-$def_last}
#++++++++++++++++++++++++++++++++#


echo "
..######...######.....###....##....##.##....##.####.##....##..######..
.##....##.##....##...##.##...###...##.###...##..##..###...##.##....##.
.##.......##........##...##..####..##.####..##..##..####..##.##.......
..######..##.......##.....##.##.##.##.##.##.##..##..##.##.##.##...####
.......##.##.......#########.##..####.##..####..##..##..####.##....##.
.##....##.##....##.##.....##.##...###.##...###..##..##...###.##....##.
..######...######..##.....##.##....##.##....##.####.##....##..######..
"

echo "
########################################

   Target is -----------> $address
   Begining Port -------> $first_port
   Ending Port ---------> $last_port

########################################
"

#++++++++++++ Functionality ++++++++++++#

for port in $(seq $first_port $last_port); do
    if timeout .5 bash -c "</dev/tcp/$address/$port &>/dev/null"; then
        echo "Port $port is open"
    else
        echo "Port $port is closed"
    fi
done

#++++++++++++++++++++++++++++++++++++++++#